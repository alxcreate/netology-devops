
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ

В моём понимании, основным отличием этих типов гипервизоров является способ взаимодействия с аппаратным обеспечением. В случае с аппаратной виртуализацией, все запросы к "железу" выполняются самим гипервизором, напрямую. При паравиртуализации или на основе ОС появляются слои выполняющие команды гипервизоров перед отправкой на исполняющее устройство. Т.е. чтобы выполнить одно вычисление, потребуется больше действий процессора, памяти т.д.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ

- Высоконагруженная база данных, чувствительная к отказу - в зависимости от типа базы и возможных типов отказа выбрал бы паравиртуализацию или физические сервера. Виртуализация позволила бы распределить нагрузку, быстро запускать резерв в случае отказа какой-либо ноды. Но это умеют и сами базы данных в сочетании с автоматизацией управления отказов на физических серверах.
- Различные web-приложения - виртуализация на основе ОС. Важно удобство управления, масштабирования и возможность распределения нагрузки. С помощью контейнеров это можно выполнять быстро и на разных системах не завися от типа аппаратного обеспечения и операционной системы.
- Windows системы для использования бухгалтерским отделом - паравиртуализация. Т.к. нужно выполнять несколько Windows систем одновременно, а нагрузка обычно не такая высокая, то можно применить виртуализацию, но от контейнеризации отказался бы потому как в самом условии написано, что нужно несколько систем.
- Системы, выполняющие высокопроизводительные расчеты на GPU - предпочел бы использование аппаратной виртуализации, но раз её нет в списке для выбора, а операционные системы значительно снижают производительность vGPU, то моим выбором будет размещение таких вычислений на физических серверах. Конечно, важным критерием будет и тип графических процессоров.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ

1. Hyper-V. Есть поддержка Linux и Windows. При создании кластера есть возможность балансировки нагрузки. Имеется возможность создавать реплики данных, резервные копии. Гибкая настройка и автоматизация с помощью Hyper-V Module.
2. Xen. Open Source, высокая производительность, поддержка Linux и Windows.
3. Hyper-V. Разработано Microsoft и имеет максимальную совместимость с их продуктами.
4. Docker или LXC. Нет зависимости от дистрибутива. Удобно для тестирования разных версий ПО.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ

При использовании гетерогенной среды виртуализации повышается сложность её использования, поиска проблем некорректной работы. Сотрудникам необходимы навыки по работе сразу в нескольких системах для чего потребуется проводить обучение, либо поиск новых специалистов.

Для работы в такой среде необходим единый инструмент для создания, миграции и т.п. для минимизации ошибок сотрудников и создания единого подхода к управлению виртуальными машинами.

Использование гетерогенной среды виртуализации определяют потребности компании и их список вопросов решаемых применением этой технологии.
Например, если компании нужно запустить виртуальные машины почти ничем не отличающиеся друг от друга, то нет смысла делать это на разных гипервизорах.
Если же нужно запустить в виртуальной среде машины и приложения у которых принципы использования, нагрузки, требования к тем или иным возможностям гипервизоров сильно отличаются, то стоит рассмотреть использование гетерогенной среды для оптимальной утилизации физического оборудования.
Если же компания является крупнейшим облачным провайдером, то, логично, создать свой гипервизор который будет покрывать потребности всех клиентов и предоставлять самые различные способы использования инфраструктуры.
